# 变更日志 (Changelog)

## [未发布]

### 新增
- 为数据源服务添加检查状态端点 (`/api/datasources/{id}/check-status`)
- 新增元数据同步端点 (`/api/metadata/datasources/{dataSourceId}/sync`)
- 增加数据源统计端点 (`/api/datasources/{id}/stats`)
- 添加数据源服务适配测试
- 新增统一API响应处理机制，支持一致的消息通知
- 添加全局HTTP请求响应拦截器，实现统一错误和成功消息处理
- 增强消息服务，支持消息去重、合并和队列管理功能
- 新增消息组件演示页面，展示各种消息功能及用法
- 改进集成预览页面，添加配置信息和结果分区显示，提高用户体验

### 变更
- 将数据源类型枚举从大写改为小写 (例如 'MYSQL' -> 'mysql')
- 将数据源状态类型枚举从大写改为小写 (例如 'ACTIVE' -> 'active')
- 调整数据源模型，添加isActive字段
- 更新Mock数据以符合后端API格式
- 改进API响应格式，使用统一的success/data/error结构
- 更新数据源服务适配层，兼容后端API格式
- 优化API调用响应处理，统一错误和成功消息显示
- 更新DataSourceDetail组件，使用统一响应处理机制
- 更新DataSourceList组件，适配最新的类型定义
- 优化消息组件，支持消息计数和样式自定义
- 重构集成预览页面布局，添加集成配置详情显示

### 修复
- 修复分页响应格式不统一的问题
- 修复mock服务器中间件配置，解决API请求返回HTML而非JSON的问题
- 统一API错误处理机制，确保一致的错误响应格式
- 修复Vite代理配置，确保Mock模式下API请求能被正确处理
- 修复UI展示中不一致的消息提示方式
- 修复数据源组件中的类型和状态枚举不一致问题
- 解决多个重复提示消息同时显示的问题
- 修复查询列表页面切换状态时消息重复显示问题
- 修复http.ts变量重复声明导致的构建失败问题
- 优化setTimeout计时器类型处理，避免类型错误
- 修复集成预览页面数据条件区域显示问题，现在支持正确展示表单配置

## [0.0.1] - 2023-06-15

### 新增
- 项目初始结构搭建
- 基础组件库实现
- 数据源管理模块
- 查询管理模块 
- 集成管理模块
- 模拟数据和接口

## [Unreleased]

### Features

- 新增数据源状态检查接口
- 新增元数据同步接口
- 新增数据源统计接口

### Changes

- 调整数据源类型和状态的枚举定义
- 优化模型定义和响应结构

### Fixes

- 修复分页响应格式不统一的问题
- 修复mock-server配置不正确的问题 
- 修复消息重复显示的问题
- 修复HTTP变量声明不正确的问题
- 修复集成预览页面查询表单与结果区域显示问题
- 优化查询表单和结果组件样式，美化界面
- 修复集成预览页面PageHeader组件缺失问题
- 修复http.ts中http变量重复导出的问题