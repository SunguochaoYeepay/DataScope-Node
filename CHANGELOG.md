# 变更日志

## [1.0.5] - 2023-06-20

### 新增
- 为所有API接口添加了详细的响应示例，包括成功与错误情况的示例响应
- 为数据源接口增加了请求体与响应体的详细示例
- 为查询计划分析和比较接口提供了完整的响应数据结构示例
- 为可视化接口添加了包含节点、边和布局信息的响应示例
- 为元数据接口添加了详细示例，包括同步、结构查询和分析等操作
- 为SQL查询执行接口添加了完整的请求与响应示例

### 优化
- 改进Swagger文档结构，使API文档更加清晰易读
- 完善错误响应的示例格式，统一错误码和错误消息格式
- 提供更全面的API示例，方便前端开发参考和对接
- 对复杂的数据结构提供了层次化的示例，提高可读性
- 确保所有错误示例的定义一致性，包含状态码、错误代码和描述信息

## [1.0.4] - 2023-06-15

### 新增
- 添加了API路径兼容层，支持前端通过`/api/queries/{queryId}/execution-plan`访问查询执行计划
- 添加了API路径兼容层，支持前端通过`/api/queries/{queryId}/visualization`访问可视化数据

### 优化
- 统一查询计划相关API的Swagger文档注释格式
- 确保所有API路由在Swagger文档中正确显示
- 提高前后端接口兼容性，降低集成复杂度

### 修复
- 修复了Swagger文档不完整的问题
- 修复了API路径不一致导致的前端访问错误

## [1.0.3] - 2023-06-01

### 新增
- 添加 MySQL 查询计划分析器中的 getOptimizationTips 方法，支持获取查询优化建议
- 完善 column-analyzer 中的列基数分析，添加不同基数水平的具体建议

### 优化
- 改进类型系统，确保 PerformanceAnalysis 类型在不同模块间正确转换
- 增强 plan-visualization.controller 对节点数据的安全处理，避免运行时错误
- 优化数据源类型定义，修正 DatabaseType 的类型引用问题

### 修复
- 修复 MySQL 查询计划分析器中类型冲突问题
- 解决 plan-visualization.controller 中的 null 引用错误
- 修复 column-analyzer 中 getRecommendation 缺少返回值的问题
- 处理 isAccessTypeImprovement 方法对无效或不支持类型的处理逻辑

## [1.0.2] - 2023-05-25

### 新增
- 添加查询执行计划功能，支持MySQL查询计划分析
- 实现MySQL查询计划转换器，支持传统格式和JSON格式的EXPLAIN结果
- 添加查询计划分析算法，提供性能瓶颈识别和优化建议
- 增加查询计划保存和比较功能
- 实现查询计划可视化接口，便于前端展示

### 优化
- 改进数据库连接器架构，当前专注支持MySQL，但保留了扩展接口
- 优化查询执行流程，添加查询计划分析步骤
- 提升错误处理机制，提供更详细的错误信息

### 修复
- 修复类型兼容性问题，确保MySQL查询计划格式可以正确处理
- 解决MySQL连接器中查询执行计划解析错误
- 修复数据源管理中的类型错误

## [1.0.1] - 2023-05-10

### 新增
- 实现基本的数据源管理功能
- 添加SQL查询执行功能
- 实现查询历史记录功能
- 添加元数据同步功能
- 添加保存查询功能

### 优化
- 改进数据库连接池管理
- 优化查询执行性能
- 提升元数据同步效率

### 修复
- 修复连接测试功能中的错误处理问题
- 解决查询超时问题
- 修复元数据刷新后的缓存问题