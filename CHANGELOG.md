# DataScope-Node 变更日志

## [v1.0.1] - 2023-10-18

### 代码质量与错误修复

### 修复
- 修复了`datasource.service.ts`中的字段映射问题，将`database`字段正确映射到Prisma模型中的`databaseName`字段
- 修复了错误处理中间件`error.ts`的类型定义问题，确保返回值类型为`void`
- 修复了查询控制器`query.controller.ts`中的方法参数类型转换问题，使用`Number()`代替`parseInt`
- 修复了API错误处理中的类型兼容性问题
- 修复了验证错误处理逻辑
- 修复了MySQL连接器中的错误处理和类型问题

### 优化
- 改进了数据源服务中对敏感信息的处理方式，确保安全返回
- 代码风格统一性优化
- 添加详细的错误日志记录
- 优化错误处理中间件代码结构

### 新增
- 添加了数据库初始化脚本`init-db.ts`
- 添加数据源连接测试功能
- 完善类型定义，提高代码可维护性

## [v1.0.0] - 2025-03-29

### 新增
- 初始化项目结构和基础配置
- 实现数据源管理功能
  - 创建、测试、更新和删除数据源
  - 支持MySQL数据库连接
- 实现查询执行功能
  - 支持SQL查询执行
  - 结果格式化和错误处理
- 实现元数据查询功能
  - 获取数据库表结构
  - 表预览数据
  - 导出表结构为JSON格式
- 实现查询管理功能
  - 保存、更新和删除查询
  - 查询文件夹管理
- 添加API文档（Swagger）
- 配置错误处理和日志记录系统